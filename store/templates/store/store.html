{% extends 'store/main.html' %}
{% load static %}
{% block content %}


    <div class="row main-content">
        <!-- Modal -->
    <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">Before entering the site, please note:</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            Product photos, titles and all content on this website are used for non-commercial display purposes only.
            All materials, products, etc. have been taken from the official Belsta website.
            I do not sell or make any profit from any of the submitted materials and any resemblance to other content is purely coincidental.

          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-outline-light" data-dismiss="modal">I understand</button>
          </div>
        </div>
      </div>
    </div>
        <div class="container">
                <div class="row carousel-style">
                    <div class="box-element-carousel col-md-5">
                        <div id="carousel1" class="carousel slide custom-carousel" data-ride="carousel">
                            <!-- Indicators -->
                            <ol class="carousel-indicators">
                                {% for object in first_banners %}
                                    <li data-target="#carousel2" data-slide-to="{{ forloop.counter0 }}" {% if forloop.first %} class="active" {% endif %}></li>
                                {% endfor %}
                            </ol>

                            <!-- Slides -->
                            <div class="carousel-inner">
                                {% for object in first_banners %}
                                    <div class="carousel-item {% if forloop.first %} active {% endif %}">
                                        <img src="{{ object.image.url }}" alt="{{ object.title }}">
                                    </div>
                                {% endfor %}
                            </div>

                            <!-- Controls -->
                            <a class="carousel-control-prev" href="#carousel1" role="button" data-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="sr-only">Previous</span>
                            </a>
                            <a class="carousel-control-next" href="#carousel1" role="button" data-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="sr-only">Next</span>
                            </a>
                        </div>
                    </div>

                    <div class="box-element-carousel col-md-5">
                        <div id="carousel2" class="carousel slide custom-carousel" data-ride="carousel">
                            <!-- Indicators -->
                            <ol class="carousel-indicators">
                                {% for object in second_banners %}
                                    <li data-target="#carousel2" data-slide-to="{{ forloop.counter0 }}" {% if forloop.first %} class="active" {% endif %}></li>
                                {% endfor %}
                            </ol>

                            <!-- Slides -->
                            <div class="carousel-inner">
                                {% for object in second_banners %}
                                    <div class="carousel-item {% if forloop.first %} active {% endif %}">
                                        <img src="{{ object.image.url }}" alt="{{ object.title }}">
                                    </div>
                                {% endfor %}
                            </div>

                            <!-- Controls -->
                            <a class="carousel-control-prev" href="#carousel2" role="button" data-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="sr-only">Previous</span>
                            </a>
                            <a class="carousel-control-next" href="#carousel2" role="button" data-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="sr-only">Next</span>
                            </a>
                        </div>
                    </div>

                </div>
            </div>

        {% for product in page_obj %}
            <div class="col-lg-3 hover01">
                <figure>
                    <a href="{% url 'product_detail' product.id %}">
                        <img class="thumbnail" src="{{ product.imageURL }}">
                    </a>

                <div class="box-element product" style="
                    padding-top: 45px;
                    padding-bottom: 15px;">
                    <div class="row">
                        <h5 style="display: grid;justify-content: start;"><strong>{{ product.name }}</strong></h5>
                    </div>
    {#                <h6><strong>{{ product.name }}</strong></h6>#}
    {#                <h4 style="display: grid"><strong>${{ product.price }}</strong></h4>#}


                    <hr>
                    <div class="row">
                        <div class="col-sm-6">
                            <h3 style="display: grid;justify-content: start;"><strong>${{ product.price }}</strong></h3>
                        </div>
                        <div class="col-sm-6">
                            <a class="btn btn-outline-light" href="{% url 'product_detail' product.id %}">Details</a>
                            </div>
                    </div>
    {#                <h4 style="display: inline-block; float: right"><strong>${{ product.price }}</strong></h4>#}
                </div>
            </figure>
            </div>
        {% endfor %}
    </div>


    <!-- Pagination links -->
{% if page_obj.paginator.num_pages > 1 %}
        <div class="pagination-container-center text-center mt-3">
          <nav aria-label="...">
            <ul class="pagination justify-content-center d-flex">
              {% if page_obj.has_previous %}
                <li class="page-item">
                  <a class="btn btn-form" href="?page={{ page_obj.previous_page_number }}" tabindex="-1">Prev</a>
                </li>
              {% else %}
                <li class="page-item disabled">
                  <a href="#" tabindex="-1">Prev</a>
                </li>
              {% endif %}

              {% for page in page_obj.paginator.page_range %}
                {% if page_obj.number == page %}
                  <li class="page-item active">
                    <a class="page-link btn btn-dark active" href="#">{{ page }} <span class="sr-only">(current)</span></a>
                  </li>
                {% else %}
                  <li class="page-item">
                    <a class="page-link btn btn-dark" href="?page={{ page }}">{{ page }}</a>
                  </li>
                {% endif %}
              {% endfor %}

              {% if page_obj.has_next %}
                <li class="page-item">
                  <a class="btn btn-form" href="?page={{ page_obj.next_page_number }}">Next</a>
                </li>
              {% else %}
                <li class="page-item disabled">
                  <a href="#">Next</a>
                </li>
              {% endif %}
            </ul>
          </nav>
        </div>
{% endif %}


<script>
  // Wait for the DOM to be fully loaded
  document.addEventListener('DOMContentLoaded', function() {
    // Check if the modal has been shown before
    if (!localStorage.getItem('modalShown')) {
      // Show the modal
      $('#exampleModalCenter').modal('show');

      // Set a flag in local storage to indicate the modal has been shown
      localStorage.setItem('modalShown', 'true');
    }
  });
</script>




    <style>
    .carousel-style{
        display: flex;
        justify-content: space-around;
        padding-top: 35px;
    }
    .box-element-carousel{
        box-shadow:hsl(0, 0%, 80%) 0 0 16px;
        background-color: #fff;
        border-radius: 12px;
        padding: 10px;
    }
  /* Custom CSS for the carousels */
    .custom-carousel {
        width: 400px; /* Set the width of each carousel */
        height: 240px; /* Set the height of each carousel */
        margin: 0 auto; /* Center the carousel horizontally */
    }

    .custom-carousel .carousel-inner {
        height: 100%; /* Make the carousel fill its container's height */
    }

    .custom-carousel .carousel-item {
        width: 100%; /* Make carousel items fill the container's width */
        height: 100%; /* Make carousel items fill the container's height */
        text-align: center; /* Center the content horizontally and vertically */
    }

    .custom-carousel .carousel-item img {
        max-width: 100%;
        max-height: 100%;
        object-fit: contain; /* Ensure the entire image fits without cropping */
    }


    </style>




{% endblock content %}
